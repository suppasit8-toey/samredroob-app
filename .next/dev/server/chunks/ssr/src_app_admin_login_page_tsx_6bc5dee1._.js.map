{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Suppa/OneDrive/SAMREDROOB_APP/src/app/admin/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { Auth } from \"@supabase/auth-ui-react\";\r\nimport { ThemeSupa } from \"@supabase/auth-ui-shared\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { LockKeyhole, ShieldCheck } from \"lucide-react\";\r\n\r\nexport default function AdminLogin() {\r\n    const router = useRouter();\r\n    const [isClient, setIsClient] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setIsClient(true);\r\n        const checkSession = async () => {\r\n            if (!supabase) return;\r\n\r\n            // Check if already logged in\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            if (session) {\r\n                router.push(\"/admin\");\r\n            }\r\n\r\n            // Listen for auth changes (e.g. login success)\r\n            const { data: { subscription } } = supabase.auth.onAuthStateChange((event: string, session: any) => {\r\n                if (event === 'SIGNED_IN') {\r\n                    // Force a hard refresh if router.push doesn't work effectively (due to client state)\r\n                    window.location.href = \"/admin\";\r\n                }\r\n            });\r\n\r\n            return () => {\r\n                subscription.unsubscribe();\r\n            };\r\n        };\r\n        checkSession();\r\n    }, [router]);\r\n\r\n    if (!isClient) return null;\r\n\r\n    if (!supabase) {\r\n        return (\r\n            <div className=\"flex min-h-screen items-center justify-center\">\r\n                <p className=\"text-red-500\">Supabase client check failed. Please check environment variables.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-[#f8f9fa] p-4 relative overflow-hidden\">\r\n\r\n            {/* Background Decor */}\r\n            <div className=\"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none\">\r\n                <div className=\"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-gray-200/50 rounded-full blur-3xl opacity-30\"></div>\r\n                <div className=\"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-gray-300/30 rounded-full blur-3xl opacity-30\"></div>\r\n            </div>\r\n\r\n            <div className=\"w-full max-w-[550px] relative z-10\">\r\n                <div className=\"bg-white rounded-[32px] shadow-[0_20px_50px_rgba(0,0,0,0.08)] border border-white/50 backdrop-blur-sm p-12 md:p-16\">\r\n\r\n                    <div className=\"flex flex-col items-center mb-12\">\r\n                        <div className=\"w-20 h-20 bg-black rounded-[20px] flex items-center justify-center text-white mb-6 shadow-xl transform rotate-0 hover:rotate-3 transition-transform duration-300\">\r\n                            <LockKeyhole size={32} />\r\n                        </div>\r\n                        <h1 className=\"text-3xl font-bold text-gray-900 tracking-tight mb-2\">Admin Portal</h1>\r\n                        <p className=\"text-gray-500 font-medium text-lg\">เข้าสู่ระบบจัดการร้านค้า</p>\r\n                        <div className=\"h-1.5 w-16 bg-gray-100 mt-8 rounded-full\"></div>\r\n                    </div>\r\n\r\n                    <Auth\r\n                        supabaseClient={supabase}\r\n                        appearance={{\r\n                            theme: ThemeSupa,\r\n                            variables: {\r\n                                default: {\r\n                                    colors: {\r\n                                        brand: '#111111',\r\n                                        brandAccent: '#333333',\r\n                                        inputText: '#111111',\r\n                                        inputBorder: '#e2e8f0',\r\n                                        inputBorderFocus: '#111111',\r\n                                        inputPlaceholder: '#94a3b8',\r\n                                    },\r\n                                },\r\n                            },\r\n                            style: {\r\n                                container: { gap: '20px' },\r\n                                button: {\r\n                                    fontSize: '16px',\r\n                                    fontWeight: '600',\r\n                                    borderRadius: '16px',\r\n                                    padding: '16px',\r\n                                    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\r\n                                    border: 'none',\r\n                                },\r\n                                input: {\r\n                                    fontSize: '16px',\r\n                                    borderRadius: '16px',\r\n                                    padding: '16px 20px',\r\n                                    backgroundColor: '#f8fafc',\r\n                                    border: '1px solid #e2e8f0'\r\n                                },\r\n                                label: {\r\n                                    fontSize: '14px',\r\n                                    color: '#475569',\r\n                                    fontWeight: '500',\r\n                                    marginBottom: '8px'\r\n                                },\r\n                                anchor: { fontSize: '14px', color: '#64748b' },\r\n                            }\r\n                        }}\r\n                        localization={{\r\n                            variables: {\r\n                                sign_in: {\r\n                                    email_label: 'อีเมล',\r\n                                    password_label: 'รหัสผ่าน',\r\n                                    button_label: 'เข้าสู่ระบบ',\r\n                                    email_input_placeholder: 'admin@samredroob.com',\r\n                                    password_input_placeholder: '••••••••',\r\n                                },\r\n                            },\r\n                        }}\r\n                        showLinks={false}\r\n                        providers={[]}\r\n                        redirectTo={`${typeof window !== 'undefined' ? window.location.origin : ''}/auth/callback`}\r\n                    />\r\n\r\n                    <div className=\"mt-12 flex justify-center items-center gap-2 text-gray-400 text-xs font-medium uppercase tracking-wider\">\r\n                        <ShieldCheck size={16} />\r\n                        <span>Secure Access Only</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;;;;;;;;AASe,SAAS;IACpB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACN,YAAY;QACZ,MAAM,eAAe;YACjB,IAAI,CAAC,kIAAQ,EAAE;YAEf,6BAA6B;YAC7B,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,kIAAQ,CAAC,IAAI,CAAC,UAAU;YAC5D,IAAI,SAAS;gBACT,OAAO,IAAI,CAAC;YAChB;YAEA,+CAA+C;YAC/C,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,kIAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAe;gBAC/E,IAAI,UAAU,aAAa;oBACvB,qFAAqF;oBACrF,OAAO,QAAQ,CAAC,IAAI,GAAG;gBAC3B;YACJ;YAEA,OAAO;gBACH,aAAa,WAAW;YAC5B;QACJ;QACA;IACJ,GAAG;QAAC;KAAO;IAEX,IAAI,CAAC,UAAU,OAAO;IAEtB,IAAI,CAAC,kIAAQ,EAAE;QACX,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAE,WAAU;0BAAe;;;;;;;;;;;IAGxC;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BAGX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAGnB,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;sCAEX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC,mOAAW;wCAAC,MAAM;;;;;;;;;;;8CAEvB,8OAAC;oCAAG,WAAU;8CAAuD;;;;;;8CACrE,8OAAC;oCAAE,WAAU;8CAAoC;;;;;;8CACjD,8OAAC;oCAAI,WAAU;;;;;;;;;;;;sCAGnB,8OAAC,gLAAI;4BACD,gBAAgB,kIAAQ;4BACxB,YAAY;gCACR,OAAO,iLAAS;gCAChB,WAAW;oCACP,SAAS;wCACL,QAAQ;4CACJ,OAAO;4CACP,aAAa;4CACb,WAAW;4CACX,aAAa;4CACb,kBAAkB;4CAClB,kBAAkB;wCACtB;oCACJ;gCACJ;gCACA,OAAO;oCACH,WAAW;wCAAE,KAAK;oCAAO;oCACzB,QAAQ;wCACJ,UAAU;wCACV,YAAY;wCACZ,cAAc;wCACd,SAAS;wCACT,WAAW;wCACX,QAAQ;oCACZ;oCACA,OAAO;wCACH,UAAU;wCACV,cAAc;wCACd,SAAS;wCACT,iBAAiB;wCACjB,QAAQ;oCACZ;oCACA,OAAO;wCACH,UAAU;wCACV,OAAO;wCACP,YAAY;wCACZ,cAAc;oCAClB;oCACA,QAAQ;wCAAE,UAAU;wCAAQ,OAAO;oCAAU;gCACjD;4BACJ;4BACA,cAAc;gCACV,WAAW;oCACP,SAAS;wCACL,aAAa;wCACb,gBAAgB;wCAChB,cAAc;wCACd,yBAAyB;wCACzB,4BAA4B;oCAChC;gCACJ;4BACJ;4BACA,WAAW;4BACX,WAAW,EAAE;4BACb,YAAY,GAAG,sCAAgC,0BAAyB,GAAG,cAAc,CAAC;;;;;;sCAG9F,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,mOAAW;oCAAC,MAAM;;;;;;8CACnB,8OAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9B"}}]
}